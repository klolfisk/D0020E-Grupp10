<!DOCTYPE html>
<html>
	<head>

		<script type="text/javascript" src="js/angular.min.js"></script> 
		<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Raleway" />

	    <meta charset="utf-8">
	    <meta http-equiv="X-UA-Compatible" content="IE=edge">
	    <meta name="viewport" content="width=device-width, initial-scale=1">
	    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

	    <meta name="description" content="">

	    <!-- Bootstrap core CSS -->
	    <link href="css/bootstrap.min.css" rel="stylesheet">
	    <link href="css/bootstrap.css" rel="stylesheet">

	    <link href="css/style.css" rel="stylesheet">
	    <script src="js/jquery-3.1.1.min.js"></script>
	    <script src="js/jquery-ui.js"></script>

	    <!--Ã¶verlappande grejer-->
		<script>
			$(function(){
			   $(".newServer").draggable({
					helper: function() {
				        return jQuery(this).clone().appendTo('body').css({
				            'zIndex': 5
						});
					},
			        cursor: 'move',
			        containment: "document",
			        containment: "#main-content",
				});
				$('#main-content').droppable({
			        drop: function(event, ui) {
			            if (!ui.draggable.hasClass("draggable"))
			                $(this).append(jQuery(ui.draggable).clone().addClass("draggable").draggable(
			                	{
								    revert: 'invalid',
								    grid: [310,310],
								    stop: function(){
								        $(this).draggable('option','revert','invalid');
								    }
								}).removeClass("newServer").append("<div class='remove'>X</div>"));
			            }
			    });

			    $(".remove").on("click", function() {
				  $(this).parent().remove();
				});

			});
			function createBox(){

	        	//var $input = $('<div class="draggable"><a class="remove" href="#">X</a>spawned draggable object</div>');

	        	//$input.prependTo($("#main-content"));

	        	$("#main-content").droppable({
	        		tolerance: "fit"
	        	});

	        	$('.draggable').draggable({
				    revert: 'invalid',
				    grid: [310,310],
				    stop: function(){
				        $(this).draggable('option','revert','invalid');
				    }
				});
				$('.draggable').droppable({
				    greedy: true,
				    tolerance: 'touch',
				    drop: function(event,ui){
				        ui.draggable.draggable('option','revert',true);
				    }
				});
    		}

 		 </script>

	    <title></title>

	</head>
	<body>

<header>
	<div class="navbar navbar-default navbar-fixed-top navbar-offset" id="topbar">
		<img src="https://d3nmt5vlzunoa1.cloudfront.net/phpstorm/files/2015/10/large_v-trans.png"><h4> File Edit Arrange Extras Help</h4>
	</div>
</header>
<div class="container container-fluid scrollable">
    <div class="row">
        <div id="sidebar" class="col-md-2 no-float"><h3>Commands</h3>

        	<ul class="nav nav-stacked">
			  <div class="newServer">+ Server</div>
			  <li role="presentation" ><a onclick="createBox();">+ Container</a></li>
			</ul>

        </div>
        <div id="main-content" class="col-md-10 no-float">
        		
        </div>
    </div>
</div>
</body>
</html>
